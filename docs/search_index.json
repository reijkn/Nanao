[
["index.html", "view 1 はじめに 2 前準備 2.1 国土数値情報から", " view 2019/5/7 1 はじめに library(sf) library(tidyverse) library(tmap) tmap_mode(&quot;plot&quot;) 2 前準備 2.1 国土数値情報から 石川県のやつについて，以下を読み込む． 行政区域：N03~ 緊急輸送道路：N10-15~ 土砂災害警戒区域：A33-17~ コードは以下のとおりである． isikawa &lt;- st_read(&quot;N03-170101_17_GML/N03-17_17_170101.shp&quot;, options = &quot;ENCODING=CP932&quot;, stringsAsFactors=F) emergency &lt;- st_read(&quot;N10-15_17_GML/N10-15_17.shp&quot;, options = &quot;ENCODING=CP932&quot;, stringsAsFactors=F) sediment &lt;- st_read(&quot;A33-17_17_GML/A33-17_17_GML/A33-17_17Polygon.shp&quot;, options = &quot;ENCODING=CP932&quot;, stringsAsFactors=F) N03_004を指定すればよさそうである． nanao &lt;- isikawa %&gt;% filter(N03_004 == &quot;七尾市&quot;) ## Warning: package &#39;bindrcpp&#39; was built under R version 3.4.4 # 確認のため描画 tm_shape(nanao) + tm_polygons() 行政区域を七尾市のみに絞ったものができた． このポリゴン上で，道路とか土砂災害警戒区域を絞り込む． emergency_nanao &lt;- st_intersection(nanao, emergency) sediment_nanao &lt;- st_intersection(nanao, sediment) そして投影座標系をEPSG2449とする． nanao &lt;- st_transform(nanao, 2449) emergency_nanao &lt;- st_transform(emergency_nanao, 2449) sediment_nanao &lt;- st_transform(sediment_nanao, 2449) view云々によらないのは，mapview()である． library(mapview) ## Warning: package &#39;mapview&#39; was built under R version 3.4.4 mapview(nanao) + mapview(emergency_nanao, zcol = &quot;N10_004&quot;) #colnames(emergency_nanao) "]
]
